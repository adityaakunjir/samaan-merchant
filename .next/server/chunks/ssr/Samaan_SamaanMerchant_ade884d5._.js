module.exports=[95254,(a,b,c)=>{"use strict";b.exports=a.r(74935).vendored["react-ssr"].ReactDOM},17357,a=>{"use strict";var b=a.i(90939),c=a.i(18134);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},96769,a=>{"use strict";let b=(0,a.i(37262).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);a.s(["Camera",()=>b],96769)},2987,a=>{"use strict";var b=a.i(90939),c=a.i(23984),d=a.i(29939),e=a.i(29287),f=a.i(1797),g=a.i(26920),h=a.i(19246),i=a.i(73388),j=a.i(27244),k=a.i(17357),l=a.i(96769),m=a.i(7757),n=a.i(6043);function o({merchant:a,userId:o}){let p=(0,d.useRouter)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)({shop_name:a?.shop_name||"",address:a?.address||"",phone:a?.phone||"",eta_minutes:a?.eta_minutes||30,is_open:a?.is_open??!0,logo_url:a?.logo_url||""}),[y,z]=(0,c.useState)(a?.logo_url||null),[A,B]=(0,c.useState)(!1),C=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void t("Please select an image file");if(b.size>5242880)return void t("Image must be less than 5MB");B(!0),t(null);try{let a=new FileReader;a.onloadend=()=>{z(a.result),x(b=>({...b,logo_url:a.result})),B(!1)},a.readAsDataURL(b)}catch(a){console.error("Upload error:",a),t("Failed to upload logo. Please try again."),B(!1)}}},D=async a=>{a.preventDefault(),r(!0),t(null),v(!1);try{await e.merchantsAPI.update(o,w),v(!0),p.refresh()}catch(a){console.error("Save error:",a),t("Failed to save profile. Please try again.")}finally{r(!1)}};return(0,b.jsx)("form",{onSubmit:D,children:(0,b.jsxs)(f.Card,{className:"border-0 shadow-sm rounded-2xl",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(n.Store,{className:"h-5 w-5 text-[#F97316]"}),"Shop Details"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 p-6 bg-[#FDF8F3] rounded-xl",children:[(0,b.jsxs)("div",{className:"relative",children:[y?(0,b.jsx)("img",{src:y||"/placeholder.svg",alt:"Shop logo",className:"w-28 h-28 rounded-2xl object-cover border-4 border-white shadow-md"}):(0,b.jsx)("div",{className:"w-28 h-28 rounded-2xl bg-white flex items-center justify-center border-2 border-dashed border-[#F97316]/30",children:(0,b.jsx)(l.Camera,{className:"h-10 w-10 text-[#F97316]/50"})}),(0,b.jsxs)("label",{className:"absolute -bottom-2 -right-2 p-2.5 bg-[#F97316] text-white rounded-xl cursor-pointer hover:bg-[#EA580C] transition-colors shadow-md",children:[(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:C,disabled:A}),A?(0,b.jsx)(m.Loader2,{className:"h-5 w-5 animate-spin"}):(0,b.jsx)(l.Camera,{className:"h-5 w-5"})]})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Upload your shop logo (max 5MB)"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"shop_name",className:"text-sm font-medium",children:"Shop Name *"}),(0,b.jsx)(h.Input,{id:"shop_name",value:w.shop_name,onChange:a=>x(b=>({...b,shop_name:a.target.value})),placeholder:"My Kirana Store",required:!0,className:"h-12 rounded-xl"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"address",className:"text-sm font-medium",children:"Address"}),(0,b.jsx)(k.Textarea,{id:"address",value:w.address,onChange:a=>x(b=>({...b,address:a.target.value})),placeholder:"Shop address",rows:3,className:"rounded-xl resize-none"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"phone",className:"text-sm font-medium",children:"Phone Number"}),(0,b.jsxs)("div",{className:"flex border rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-[#F97316] focus-within:border-[#F97316]",children:[(0,b.jsx)("div",{className:"px-4 py-3 bg-muted/50 border-r text-muted-foreground font-medium",children:"+91"}),(0,b.jsx)(h.Input,{id:"phone",type:"tel",value:w.phone,onChange:a=>x(b=>({...b,phone:a.target.value})),placeholder:"98765 43210",className:"border-0 h-12 focus-visible:ring-0"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"eta_minutes",className:"text-sm font-medium",children:"Estimated Delivery Time (minutes)"}),(0,b.jsx)(h.Input,{id:"eta_minutes",type:"number",min:5,max:120,value:w.eta_minutes,onChange:a=>x(b=>({...b,eta_minutes:Number.parseInt(a.target.value)||30})),className:"h-12 rounded-xl"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-[#FDF8F3] rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"is_open",className:"font-medium",children:"Shop Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:w.is_open?"Your shop is accepting orders":"Your shop is closed"})]}),(0,b.jsx)(j.Switch,{id:"is_open",checked:w.is_open,onCheckedChange:a=>x(b=>({...b,is_open:a})),className:"data-[state=checked]:bg-[#22C55E]"})]}),s&&(0,b.jsx)("p",{className:"text-sm text-destructive bg-destructive/10 p-4 rounded-xl",children:s}),u&&(0,b.jsx)("p",{className:"text-sm text-[#22C55E] bg-[#22C55E]/10 p-4 rounded-xl",children:"Profile saved successfully!"}),(0,b.jsx)(g.Button,{type:"submit",className:"w-full h-12 bg-[#F97316] hover:bg-[#EA580C] rounded-xl text-base font-medium",disabled:q,children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a?"Save Changes":"Create Shop Profile"})]})]})})}function p(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)("");return((0,c.useEffect)(()=>{(async()=>{if(!e.authAPI.isAuthenticated())return a.push("/auth/login");let b=e.authAPI.getCurrentUser();if(!b)return a.push("/auth/login");k(b.id);try{let a=await e.merchantsAPI.getById(b.id);i(a)}catch(a){console.error("Error loading merchant:",a)}finally{g(!1)}})()},[a]),f)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(m.Loader2,{className:"h-8 w-8 animate-spin text-[#F97316]"})}):(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Shop Profile"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your shop details and settings"})]}),(0,b.jsx)(o,{merchant:h,userId:j})]})}a.s(["default",()=>p],2987)}];

//# sourceMappingURL=Samaan_SamaanMerchant_ade884d5._.js.map