module.exports=[65706,a=>{"use strict";let b=(0,a.i(37262).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],65706)},68426,a=>{"use strict";var b=a.i(78247);a.s(["Check",()=>b.default])},18807,a=>{"use strict";let b=(0,a.i(37262).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],18807)},96769,a=>{"use strict";let b=(0,a.i(37262).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);a.s(["Camera",()=>b],96769)},82530,a=>{"use strict";var b=a.i(90939),c=a.i(23984),d=a.i(29939),e=a.i(29287),f=a.i(26920),g=a.i(19246),h=a.i(73388),i=a.i(27244),j=a.i(1797),k=a.i(7757),l=a.i(6043),m=a.i(65706),n=a.i(96769),o=a.i(68426),p=a.i(18807),q=a.i(18134);function r({merchant:a}){let[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)({shopName:a?.shopName||"",shopType:a?.shopType||"Kirana",description:a?.description||"",shopAddress:a?.shopAddress||"",city:a?.city||"",pincode:a?.pincode||"",phone:"",latitude:a?.latitude||0,longitude:a?.longitude||0,deliveryRadius:a?.deliveryRadius||5,minOrderAmount:a?.minOrderAmount||0,deliveryFee:a?.deliveryFee||0,isOpen:a?.isOpen??!0,openTime:a?.openTime||"09:00",closeTime:a?.closeTime||"21:00"});(0,d.useRouter)(),(0,c.useEffect)(()=>{y(!0)},[]),(0,c.useEffect)(()=>{a&&A({shopName:a.shopName||"",shopType:a.shopType||"Kirana",description:a.description||"",shopAddress:a.shopAddress||"",city:a.city||"",pincode:a.pincode||"",phone:"",latitude:a.latitude||0,longitude:a.longitude||0,deliveryRadius:a.deliveryRadius||5,minOrderAmount:a.minOrderAmount||0,deliveryFee:a.deliveryFee||0,isOpen:a.isOpen??!0,openTime:a.openTime||"09:00",closeTime:a.closeTime||"21:00"})},[a]);let B=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void alert("Please upload an image file");if(b.size>5242880)return void alert("File size must be less than 5MB");u(!0);try{alert("Image upload will be available soon")}catch(a){console.error("Upload error:",a),alert("Failed to upload image")}finally{u(!1)}}},C=async b=>{b.preventDefault(),s(!0);try{let b={id:a?.id,userId:a?.userId,shopName:z.shopName,shopType:z.shopType,description:z.description,shopAddress:z.shopAddress,city:z.city,pincode:z.pincode,latitude:z.latitude,longitude:z.longitude,deliveryRadius:z.deliveryRadius,minOrderAmount:z.minOrderAmount,deliveryFee:z.deliveryFee,isOpen:z.isOpen,openTime:z.openTime,closeTime:z.closeTime,rating:a?.rating||0,totalOrders:a?.totalOrders||0,isVerified:a?.isVerified||!1};if(console.log("[v0] Updating merchant profile:",b),!a?.id)throw Error("Merchant ID not found");await e.api.merchants.update(a.id,b),w(!0),setTimeout(()=>w(!1),2e3)}catch(a){alert(`Failed to update profile: ${a.message}`),console.error("[v0] Profile update error:",a)}s(!1)};return(0,b.jsxs)("form",{onSubmit:C,className:(0,q.cn)("space-y-6 transition-opacity duration-500",x?"opacity-100":"opacity-0"),children:[(0,b.jsxs)(j.Card,{className:"p-5 sm:p-6 bg-white rounded-2xl border-0 shadow-sm card-hover",children:[(0,b.jsx)(h.Label,{className:"text-base font-semibold text-gray-900 mb-4 block",children:"Shop Logo"}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:(0,q.cn)("w-28 h-28 bg-gradient-to-br from-gray-100 to-gray-50 rounded-2xl overflow-hidden flex items-center justify-center transition-all",t&&"animate-pulse"),children:(0,b.jsx)(l.Store,{className:"w-12 h-12 text-gray-300"})}),(0,b.jsxs)("label",{className:(0,q.cn)("absolute -bottom-2 -right-2 w-10 h-10 bg-gradient-to-br from-[#FF7F32] to-[#ea580c] rounded-xl flex items-center justify-center cursor-pointer shadow-lg shadow-orange-100 transition-transform hover:scale-110 touch-active",t&&"pointer-events-none opacity-70"),children:[t?(0,b.jsx)(k.Loader2,{className:"w-5 h-5 text-white animate-spin"}):(0,b.jsx)(n.Camera,{className:"w-5 h-5 text-white"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:B,className:"sr-only",disabled:t})]})]}),(0,b.jsxs)("div",{className:"text-center sm:text-left",children:[(0,b.jsx)("p",{className:"text-gray-700 font-medium",children:"Upload your shop logo"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"JPG, PNG up to 5MB"})]})]})]}),(0,b.jsxs)(j.Card,{className:"p-5 sm:p-6 bg-white rounded-2xl border-0 shadow-sm space-y-5",children:[(0,b.jsxs)("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(l.Store,{className:"w-5 h-5 text-[#FF7F32]"}),"Shop Details"]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"shopName",className:"text-gray-700 text-sm font-medium",children:"Shop Name *"}),(0,b.jsx)(g.Input,{id:"shopName",value:z.shopName,onChange:a=>A(b=>({...b,shopName:a.target.value})),placeholder:"Enter your shop name",className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"shopAddress",className:"text-gray-700 text-sm font-medium",children:"Shop Address"}),(0,b.jsx)(g.Input,{id:"shopAddress",value:z.shopAddress,onChange:a=>A(b=>({...b,shopAddress:a.target.value})),placeholder:"Enter your shop address",className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"city",className:"text-gray-700 text-sm font-medium",children:"City"}),(0,b.jsx)(g.Input,{id:"city",value:z.city,onChange:a=>A(b=>({...b,city:a.target.value})),placeholder:"City",className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"pincode",className:"text-gray-700 text-sm font-medium",children:"Pincode"}),(0,b.jsx)(g.Input,{id:"pincode",value:z.pincode,onChange:a=>A(b=>({...b,pincode:a.target.value})),placeholder:"Pincode",className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"description",className:"text-gray-700 text-sm font-medium",children:"Description"}),(0,b.jsx)(g.Input,{id:"description",value:z.description,onChange:a=>A(b=>({...b,description:a.target.value})),placeholder:"Brief description of your shop",className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]})]}),(0,b.jsxs)(j.Card,{className:"p-5 sm:p-6 bg-white rounded-2xl border-0 shadow-sm space-y-4",children:[(0,b.jsxs)("h3",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(m.Clock,{className:"w-5 h-5 text-[#FF7F32]"}),"Delivery Settings"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"deliveryRadius",className:"text-gray-700 text-sm font-medium",children:"Delivery Radius (km)"}),(0,b.jsx)(g.Input,{id:"deliveryRadius",type:"number",min:"1",value:z.deliveryRadius,onChange:a=>A(b=>({...b,deliveryRadius:Number(a.target.value)})),className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"deliveryFee",className:"text-gray-700 text-sm font-medium",children:"Delivery Fee (₹)"}),(0,b.jsx)(g.Input,{id:"deliveryFee",type:"number",min:"0",value:z.deliveryFee,onChange:a=>A(b=>({...b,deliveryFee:Number(a.target.value)})),className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"minOrderAmount",className:"text-gray-700 text-sm font-medium",children:"Minimum Order Amount (₹)"}),(0,b.jsx)(g.Input,{id:"minOrderAmount",type:"number",min:"0",value:z.minOrderAmount,onChange:a=>A(b=>({...b,minOrderAmount:Number(a.target.value)})),className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"openTime",className:"text-gray-700 text-sm font-medium",children:"Opening Time"}),(0,b.jsx)(g.Input,{id:"openTime",type:"time",value:z.openTime,onChange:a=>A(b=>({...b,openTime:a.target.value})),className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"closeTime",className:"text-gray-700 text-sm font-medium",children:"Closing Time"}),(0,b.jsx)(g.Input,{id:"closeTime",type:"time",value:z.closeTime,onChange:a=>A(b=>({...b,closeTime:a.target.value})),className:"rounded-xl border-gray-200 h-12 text-base focus:border-[#FF7F32] focus:ring-[#FF7F32]/20"})]})]})]}),(0,b.jsx)(j.Card,{className:(0,q.cn)("p-5 sm:p-6 rounded-2xl border-0 shadow-sm transition-all",z.isOpen?"bg-gradient-to-br from-green-50 to-white border border-green-100":"bg-white"),children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:(0,q.cn)("w-12 h-12 rounded-xl flex items-center justify-center transition-colors",z.isOpen?"bg-green-100":"bg-gray-100"),children:z.isOpen?(0,b.jsx)(p.Sparkles,{className:"w-6 h-6 text-green-600"}):(0,b.jsx)(l.Store,{className:"w-6 h-6 text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{className:"text-base font-semibold text-gray-900 block",children:"Shop Status"}),(0,b.jsx)("p",{className:(0,q.cn)("text-sm mt-0.5 font-medium",z.isOpen?"text-green-600":"text-gray-500"),children:z.isOpen?"Your shop is open and accepting orders":"Your shop is currently closed"})]})]}),(0,b.jsx)(i.Switch,{checked:z.isOpen,onCheckedChange:a=>A(b=>({...b,isOpen:a})),className:"data-[state=checked]:bg-green-500 scale-110"})]})}),(0,b.jsx)(f.Button,{type:"submit",disabled:r,className:(0,q.cn)("w-full h-14 rounded-xl text-base font-semibold shadow-lg transition-all touch-active",v?"bg-green-500 hover:bg-green-600 shadow-green-100":"bg-gradient-to-r from-[#FF7F32] to-[#ea580c] hover:from-[#ea580c] hover:to-[#d95513] shadow-orange-100"),children:r?(0,b.jsx)(k.Loader2,{className:"w-5 h-5 animate-spin"}):v?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Check,{className:"w-5 h-5 mr-2"}),"Saved Successfully!"]}):"Save Changes"})]})}function s(){let[a,f]=(0,c.useState)(null),[g,h]=(0,c.useState)(!0),i=(0,d.useRouter)();return((0,c.useEffect)(()=>{(async()=>{let a=(0,e.getToken)(),b=(0,e.getUser)();if(!a||!b)return i.push("/merchant/login");try{let a=b.merchantId||b.id,c=await e.api.merchants.getById(a),d={id:c.id,shop_name:c.shopName||c.businessName||c.name,address:c.address||c.shopAddress,phone:c.phone||c.contactNumber,eta_minutes:c.etaMinutes||c.deliveryTime||30,is_open:c.isOpen??c.isActive??!0,logo_url:c.logoUrl||c.imageUrl,email:c.email,created_at:c.createdAt,updated_at:c.updatedAt};f(d)}catch(a){console.error("Failed to fetch merchant:",a)}finally{h(!1)}})()},[i]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(k.Loader2,{className:"w-8 h-8 animate-spin text-[#FF7F32]"})}):(0,b.jsxs)("div",{className:"max-w-2xl mx-auto pb-24 lg:pb-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[#FF7F32] to-[#ea580c] rounded-xl flex items-center justify-center shadow-lg shadow-orange-100",children:(0,b.jsx)(l.Store,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Shop Profile"})]}),(0,b.jsx)("p",{className:"text-gray-500",children:"Manage your shop details and visibility settings"})]}),(0,b.jsx)(r,{merchant:a})]})}a.s(["default",()=>s],82530)}];

//# sourceMappingURL=Samaan_SamaanMerchant_dc176ffa._.js.map