module.exports=[7757,a=>{"use strict";let b=(0,a.i(37262).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],7757)},1797,a=>{"use strict";var b=a.i(90939),c=a.i(18134);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},31872,a=>{"use strict";let b=(0,a.i(37262).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],31872)},27714,a=>{"use strict";let b=(0,a.i(37262).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],27714)},46704,a=>{"use strict";let b=(0,a.i(37262).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],46704)},17986,a=>{"use strict";var b=a.i(90939),c=a.i(23984),d=a.i(29939),e=a.i(29287),f=a.i(1797),g=a.i(26920),h=a.i(2277),i=a.i(32799),j=a.i(31872),k=a.i(27714),l=a.i(46704),m=a.i(6043),n=a.i(79590);function o({merchant:a,todayOrders:c,lowStockProducts:d,pendingOrdersCount:e,userEmail:o}){let r=c.reduce((a,b)=>a+Number(b.total_amount),0),s=c.filter(a=>"new"===a.status).length;return a?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-foreground",children:["Welcome back, ",a.shop_name]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Here's what's happening with your shop today."})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${a.is_open?"bg-[#22C55E]/10 text-[#22C55E] border border-[#22C55E]/20":"bg-muted text-muted-foreground border"}`,children:a.is_open?"Open for orders":"Shop closed"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(p,{title:"Today's Orders",value:c.length.toString(),subtitle:`${s} new`,icon:(0,b.jsx)(h.ShoppingCart,{className:"h-5 w-5"}),iconBg:"bg-[#F97316]/10",iconColor:"text-[#F97316]"}),(0,b.jsx)(p,{title:"Today's Revenue",value:`₹${r.toLocaleString()}`,subtitle:"Total sales",icon:(0,b.jsx)(k.TrendingUp,{className:"h-5 w-5"}),iconBg:"bg-[#22C55E]/10",iconColor:"text-[#22C55E]"}),(0,b.jsx)(p,{title:"Pending Orders",value:e.toString(),subtitle:"Need attention",icon:(0,b.jsx)(i.Package,{className:"h-5 w-5"}),iconBg:"bg-blue-500/10",iconColor:"text-blue-500"}),(0,b.jsx)(p,{title:"Low Stock",value:d.length.toString(),subtitle:"Items below 10",icon:(0,b.jsx)(j.AlertTriangle,{className:"h-5 w-5"}),iconBg:"bg-amber-500/10",iconColor:"text-amber-500",alert:d.length>0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(f.Card,{className:"border-0 shadow-sm rounded-2xl",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.CardTitle,{className:"text-lg font-semibold",children:"Low Stock Alerts"}),(0,b.jsx)(n.default,{href:"/dashboard/inventory",children:(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"text-[#F97316] hover:text-[#EA580C] hover:bg-[#F97316]/10",children:["View All",(0,b.jsx)(l.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]})}),(0,b.jsx)(f.CardContent,{children:0===d.length?(0,b.jsxs)("div",{className:"py-8 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-[#22C55E]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)(i.Package,{className:"h-6 w-6 text-[#22C55E]"})}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"All products are well stocked!"})]}):(0,b.jsx)("div",{className:"space-y-3",children:d.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#FDF8F3] rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[a.image_url?(0,b.jsx)("img",{src:a.image_url||"/placeholder.svg",alt:a.name,className:"w-10 h-10 rounded-lg object-cover"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:(0,b.jsx)(i.Package,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsx)("span",{className:"font-medium text-sm",children:a.name})]}),(0,b.jsxs)("span",{className:"text-amber-600 font-semibold text-sm bg-amber-50 px-2 py-1 rounded-lg",children:[a.stock," left"]})]},a.id))})})]}),(0,b.jsxs)(f.Card,{className:"border-0 shadow-sm rounded-2xl",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(f.CardTitle,{className:"text-lg font-semibold",children:"Recent Orders"}),(0,b.jsx)(n.default,{href:"/dashboard/orders",children:(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"text-[#F97316] hover:text-[#EA580C] hover:bg-[#F97316]/10",children:["View All",(0,b.jsx)(l.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]})}),(0,b.jsx)(f.CardContent,{children:0===c.length?(0,b.jsxs)("div",{className:"py-8 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-[#F97316]/10 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)(h.ShoppingCart,{className:"h-6 w-6 text-[#F97316]"})}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No orders yet today."})]}):(0,b.jsx)("div",{className:"space-y-3",children:c.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-[#FDF8F3] rounded-xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.customer_name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.items.length," items • ₹",Number(a.total_amount).toLocaleString()]})]}),(0,b.jsx)(q,{status:a.status})]},a.id))})})]})]})]}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center px-4",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-[#F97316]/10 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)(m.Store,{className:"h-12 w-12 text-[#F97316]"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Welcome to Samaan!"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6 max-w-sm",children:"Let's set up your shop profile to start receiving orders from customers nearby."}),(0,b.jsx)(n.default,{href:"/dashboard/profile",children:(0,b.jsxs)(g.Button,{className:"bg-[#F97316] hover:bg-[#EA580C] h-12 px-6 rounded-xl",children:["Set Up Your Shop",(0,b.jsx)(l.ArrowRight,{className:"ml-2 h-4 w-4"})]})})]})}function p({title:a,value:c,subtitle:d,icon:e,iconBg:g,iconColor:h,alert:i=!1}){return(0,b.jsx)(f.Card,{className:`border-0 shadow-sm rounded-2xl ${i?"ring-1 ring-amber-200":""}`,children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a}),(0,b.jsx)("p",{className:"text-2xl font-bold mt-1",children:c}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:d})]}),(0,b.jsx)("div",{className:`p-3 rounded-xl ${g} ${h}`,children:e})]})})})}function q({status:a}){let c={new:"bg-blue-100 text-blue-700",confirmed:"bg-[#F97316]/10 text-[#F97316]",packed:"bg-purple-100 text-purple-700",ready:"bg-[#22C55E]/10 text-[#22C55E]",delivered:"bg-muted text-muted-foreground",cancelled:"bg-destructive/10 text-destructive"};return(0,b.jsx)("span",{className:`px-2.5 py-1 rounded-lg text-xs font-medium capitalize ${c[a]||c.new}`,children:a})}var r=a.i(7757);function s(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,p]=(0,c.useState)(0),[q,s]=(0,c.useState)("");return((0,c.useEffect)(()=>{(async()=>{if(!e.authAPI.isAuthenticated())return a.push("/auth/login");let b=e.authAPI.getCurrentUser();if(!b)return a.push("/auth/login");s(b.email||"");try{let a=await e.merchantsAPI.getById(b.id);i(a);let c=await e.ordersAPI.getMerchantOrders(),d=new Date;d.setHours(0,0,0,0);let f=(c||[]).filter(a=>new Date(a.created_at)>=d);k(f);let g=(c||[]).filter(a=>["new","confirmed"].includes(a.status));p(g.length);let h=(await e.productsAPI.getByMerchant(b.id)||[]).filter(a=>a.stock<=10&&a.is_active);m(h)}catch(a){console.error("Error loading dashboard data:",a)}finally{g(!1)}})()},[a]),f)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,b.jsx)(r.Loader2,{className:"h-8 w-8 animate-spin text-[#F97316]"})}):(0,b.jsx)(o,{merchant:h,todayOrders:j,lowStockProducts:l,pendingOrdersCount:n,userEmail:q})}a.s(["default",()=>s],17986)}];

//# sourceMappingURL=Samaan_SamaanMerchant_0bd5cc6c._.js.map