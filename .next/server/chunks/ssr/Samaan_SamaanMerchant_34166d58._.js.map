{"version":3,"sources":["../../../../../../Samaan/SamaanMerchant/node_modules/lucide-react/src/icons/arrow-left.ts","../../../../../../Samaan/SamaanMerchant/app/merchant/verify-otp/page.tsx"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState, useEffect, useRef, Suspense } from \"react\"\r\nimport { useRouter, useSearchParams } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { ArrowLeft, Loader2 } from \"lucide-react\"\r\n\r\nfunction VerifyOTPContent() {\r\n  const [otp, setOtp] = useState([\"\", \"\", \"\", \"\", \"\", \"\"])\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(\"\")\r\n  const [resending, setResending] = useState(false)\r\n  const [countdown, setCountdown] = useState(30)\r\n  const inputRefs = useRef<(HTMLInputElement | null)[]>([])\r\n  const router = useRouter()\r\n  const searchParams = useSearchParams()\r\n  const phone = searchParams.get(\"phone\") || \"\"\r\n\r\n  useEffect(() => {\r\n    if (countdown > 0) {\r\n      const timer = setTimeout(() => setCountdown(countdown - 1), 1000)\r\n      return () => clearTimeout(timer)\r\n    }\r\n  }, [countdown])\r\n\r\n  const handleChange = (index: number, value: string) => {\r\n    if (!/^\\d*$/.test(value)) return\r\n\r\n    const newOtp = [...otp]\r\n    newOtp[index] = value.slice(-1)\r\n    setOtp(newOtp)\r\n\r\n    // Auto-focus next input\r\n    if (value && index < 5) {\r\n      inputRefs.current[index + 1]?.focus()\r\n    }\r\n\r\n    // Auto-submit when all digits entered\r\n    if (newOtp.every((d) => d) && newOtp.join(\"\").length === 6) {\r\n      handleVerify(newOtp.join(\"\"))\r\n    }\r\n  }\r\n\r\n  const handleKeyDown = (index: number, e: React.KeyboardEvent) => {\r\n    if (e.key === \"Backspace\" && !otp[index] && index > 0) {\r\n      inputRefs.current[index - 1]?.focus()\r\n    }\r\n  }\r\n\r\n  const handleVerify = async (otpCode: string) => {\r\n    setLoading(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      // For now, this is a placeholder\r\n      // const response = await authAPI.verifyOtp(phone, otpCode)\r\n      setError(\"OTP verification not yet implemented in .NET API\")\r\n      setLoading(false)\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Verification failed\")\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleResend = async () => {\r\n    setResending(true)\r\n    setError(\"\")\r\n\r\n    try {\r\n      setError(\"OTP resend not yet implemented in .NET API\")\r\n      setCountdown(30)\r\n      setOtp([\"\", \"\", \"\", \"\", \"\", \"\"])\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : \"Failed to resend OTP\")\r\n    }\r\n\r\n    setResending(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#FDF8F3] flex flex-col\">\r\n      {/* Back button */}\r\n      <div className=\"p-6\">\r\n        <Link\r\n          href=\"/merchant/login\"\r\n          className=\"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors\"\r\n        >\r\n          <ArrowLeft className=\"w-5 h-5\" />\r\n          <span>Back</span>\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"flex-1 flex items-center justify-center px-6 pb-12\">\r\n        <div className=\"w-full max-w-md space-y-8 text-center\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-gray-900\">Verify OTP</h1>\r\n            <p className=\"mt-2 text-gray-600\">Enter the 6-digit code sent to +91 {phone}</p>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm\">{error}</div>\r\n          )}\r\n\r\n          {/* OTP Inputs */}\r\n          <div className=\"flex justify-center gap-3\">\r\n            {otp.map((digit, index) => (\r\n              <input\r\n                key={index}\r\n                ref={(el) => {\r\n                  inputRefs.current[index] = el\r\n                }}\r\n                type=\"text\"\r\n                inputMode=\"numeric\"\r\n                value={digit}\r\n                onChange={(e) => handleChange(index, e.target.value)}\r\n                onKeyDown={(e) => handleKeyDown(index, e)}\r\n                className=\"w-12 h-14 text-center text-xl font-bold border-2 border-gray-200 rounded-xl focus:border-[#FF7F32] focus:ring-2 focus:ring-[#FF7F32]/20 outline-none transition-all\"\r\n                maxLength={1}\r\n                disabled={loading}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          <Button\r\n            onClick={() => handleVerify(otp.join(\"\"))}\r\n            disabled={loading || otp.some((d) => !d)}\r\n            className=\"w-full h-12 bg-[#FF7F32] hover:bg-[#e66a20] text-white rounded-xl text-base font-medium\"\r\n          >\r\n            {loading ? <Loader2 className=\"w-5 h-5 animate-spin\" /> : \"Verify\"}\r\n          </Button>\r\n\r\n          <div className=\"text-gray-600\">\r\n            {countdown > 0 ? (\r\n              <p>Resend code in {countdown}s</p>\r\n            ) : (\r\n              <button\r\n                onClick={handleResend}\r\n                disabled={resending}\r\n                className=\"text-[#FF7F32] hover:underline font-medium\"\r\n              >\r\n                {resending ? \"Sending...\" : \"Resend OTP\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function VerifyOTPPage() {\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <div className=\"min-h-screen bg-[#FDF8F3] flex items-center justify-center\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-[#FF7F32]\" />\r\n        </div>\r\n      }\r\n    >\r\n      <VerifyOTPContent />\r\n    </Suspense>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}