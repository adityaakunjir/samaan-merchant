(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95776,e=>{"use strict";var t=e.i(93095),a=e.i(61836);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>l])},96193,e=>{"use strict";var t=e.i(98365);e.s(["Check",()=>t.default])},71092,e=>{"use strict";let t=(0,e.i(35694).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],71092)},25875,e=>{"use strict";let t=(0,e.i(35694).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],25875)},76424,e=>{"use strict";let t=(0,e.i(35694).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],76424)},28679,e=>{"use strict";let t=(0,e.i(35694).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],28679)},60926,e=>{"use strict";var t=e.i(93095),a=e.i(92854),s=e.i(75626),r=e.i(61836);function l({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function i({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function n({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function d({className:e,...s}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...s})}function o({className:e,children:l,showCloseButton:i=!0,...o}){return(0,t.jsxs)(n,{"data-slot":"dialog-portal",children:[(0,t.jsx)(d,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[l,i&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...s}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",e),...s})}e.s(["Dialog",()=>l,"DialogContent",()=>o,"DialogHeader",()=>c,"DialogTitle",()=>u,"DialogTrigger",()=>i])},73679,e=>{"use strict";let t=(0,e.i(35694).default)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>t],73679)},92415,e=>{"use strict";let t=(0,e.i(35694).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],92415)},86948,e=>{"use strict";var t=e.i(93095),a=e.i(73917),s=e.i(35765),r=e.i(61836);let l=(0,s.cva)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,asChild:i=!1,...n}){let d=i?a.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(l({variant:s}),e),...n})}e.s(["Badge",()=>i])},29050,e=>{"use strict";let t=(0,e.i(35694).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],29050)},59477,e=>{"use strict";let t=(0,e.i(35694).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],59477)},61973,e=>{"use strict";var t=e.i(93095),a=e.i(60709),s=e.i(94296),r=e.i(74778),l=e.i(48642),i=e.i(95776),n=e.i(86948),d=e.i(60926),o=e.i(16073),c=e.i(25875),u=e.i(71092),m=e.i(88508),h=e.i(73679),x=e.i(29050),g=e.i(20752),p=e.i(35694);let f=(0,p.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),b=(0,p.default)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var y=e.i(28679),v=e.i(76424),j=e.i(92415),N=e.i(59477);let w=(0,p.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var k=e.i(96193),C=e.i(61836);let _={new:{icon:g.Bell,color:"bg-blue-50 text-blue-700 border-l-blue-500",bgLight:"bg-blue-500",label:"New Order"},confirmed:{icon:u.CheckCircle,color:"bg-amber-50 text-amber-700 border-l-amber-500",bgLight:"bg-amber-500",label:"Confirmed"},packed:{icon:m.Package,color:"bg-purple-50 text-purple-700 border-l-purple-500",bgLight:"bg-purple-500",label:"Packed"},ready:{icon:h.Truck,color:"bg-green-50 text-green-700 border-l-green-500",bgLight:"bg-green-500",label:"Ready"},delivered:{icon:u.CheckCircle,color:"bg-gray-50 text-gray-600 border-l-gray-400",bgLight:"bg-gray-500",label:"Delivered"},cancelled:{icon:x.XCircle,color:"bg-red-50 text-red-700 border-l-red-500",bgLight:"bg-red-500",label:"Cancelled"}},F=["new","confirmed","packed","ready","delivered"];function M({orders:e}){let[u,m]=(0,a.useState)(e),[h,g]=(0,a.useState)("all"),[p,M]=(0,a.useState)(null),[A,T]=(0,a.useState)(null),[L,S]=(0,a.useState)(!0),[z,q]=(0,a.useState)(!1),[P,D]=(0,a.useState)(!1),I=(0,a.useRef)(null);(0,s.useRouter)(),(0,a.useEffect)(()=>{D(!0)},[]),(0,a.useEffect)(()=>{m(e)},[e]);let O=async()=>{q(!0);try{let e=(await r.api.orders.getMerchantOrders()||[]).map(e=>({id:e.id,merchant_id:e.merchantId,customer_name:e.customer?.fullName||e.customerName||e.userName||"Customer",customer_phone:e.customer?.phone||e.customerPhone||e.userPhone,customer_address:e.deliveryAddress||e.customer?.address||e.customerAddress,status:e.status?.toLowerCase()||"new",total_amount:e.grandTotal||e.totalAmount||e.total,items:e.items||e.orderItems?.map(e=>({name:e.productName||e.name,quantity:e.quantity,price:e.unitPrice||e.price}))||[],notes:e.deliveryInstructions||e.notes||e.specialInstructions,created_at:e.createdAt||e.orderDate,updated_at:e.updatedAt})),t=new Set(u.map(e=>e.id));e.filter(e=>!t.has(e.id)&&"new"===e.status).length>0&&L&&I.current&&I.current.play().catch(()=>{}),m(e)}catch(e){console.error("Failed to refresh orders:",e)}setTimeout(()=>q(!1),500)};(0,a.useEffect)(()=>{let e=setInterval(O,3e4);return()=>clearInterval(e)},[u,L]);let H=u.filter(e=>"all"===h||e.status===h),R=async(e,t)=>{T(e);try{await r.api.orders.updateStatus(e,t),m(a=>a.map(a=>a.id===e?{...a,status:t}:a)),p?.id===e&&M(e=>e?{...e,status:t}:null)}catch(e){console.error("Failed to update order status:",e),alert("Failed to update order status")}setTimeout(()=>T(null),300)},B=e=>{let t=F.indexOf(e);return t<F.length-1?F[t+1]:null},X={all:u.length,new:u.filter(e=>"new"===e.status).length,confirmed:u.filter(e=>"confirmed"===e.status).length,packed:u.filter(e=>"packed"===e.status).length,ready:u.filter(e=>"ready"===e.status).length,delivered:u.filter(e=>"delivered"===e.status).length};return(0,t.jsxs)("div",{className:(0,C.cn)("space-y-6 pb-24 lg:pb-6 transition-opacity duration-500",P?"opacity-100":"opacity-0"),children:[(0,t.jsx)("audio",{ref:I,src:"/notification.mp3",preload:"auto"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Orders"}),(0,t.jsxs)("p",{className:"text-gray-500 mt-1",children:[u.length," total orders"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(l.Button,{variant:"outline",onClick:O,disabled:z,className:"rounded-xl bg-white border-gray-200 hover:bg-gray-50 h-11 touch-active",children:[(0,t.jsx)(w,{className:(0,C.cn)("w-4 h-4 mr-2",z&&"animate-spin")}),"Refresh"]}),(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>S(!L),className:(0,C.cn)("rounded-xl h-11 touch-active",L?"bg-white border-gray-200":"bg-gray-100 border-gray-200"),children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f,{className:"w-4 h-4 mr-2 text-green-600"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Sound On"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Sound Off"})]})})]})]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar pb-1",children:["all","new","confirmed","packed","ready","delivered"].map(e=>{let a=X[e],s=h===e;return(0,t.jsxs)("button",{onClick:()=>g(e),className:(0,C.cn)("flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium whitespace-nowrap transition-all touch-active",s?"bg-gradient-to-r from-[#FF7F32] to-[#ea580c] text-white shadow-lg shadow-orange-100":"bg-white text-gray-600 border border-gray-200 hover:border-gray-300"),children:[s&&(0,t.jsx)(k.Check,{className:"w-4 h-4"}),"all"===e?"All":_[e]?.label,a>0&&(0,t.jsx)("span",{className:(0,C.cn)("text-xs px-1.5 py-0.5 rounded-full min-w-[20px] text-center",s?"bg-white/20":"new"===e&&a>0?"bg-blue-100 text-blue-700":"bg-gray-100"),children:a})]},e)})}),0===H.length?(0,t.jsxs)(i.Card,{className:"p-8 sm:p-12 bg-white rounded-2xl border-0 shadow-sm text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(o.ShoppingCart,{className:"w-10 h-10 text-gray-300"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"No orders found"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1 max-w-xs mx-auto",children:"all"===h?"Orders will appear here when customers place them":`No ${_[h]?.label.toLowerCase()} orders`})]}):(0,t.jsx)("div",{className:"space-y-3 stagger-children",children:H.map(e=>{let a,s,r=_[e.status]||_.new,d=r.icon,o=B(e.status),u=A===e.id;return(0,t.jsx)(i.Card,{className:(0,C.cn)("p-4 bg-white rounded-xl border-0 shadow-sm border-l-4 card-hover cursor-pointer touch-active",r.color.split(" ").pop()),onClick:()=>M(e),children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:["#",e.id.slice(0,8).toUpperCase()]}),(0,t.jsxs)(n.Badge,{className:(0,C.cn)("rounded-full text-xs font-semibold px-2.5 py-1",r.color.split(" ").slice(0,2).join(" ")),children:[(0,t.jsx)(d,{className:"w-3 h-3 mr-1"}),r.label]}),"new"===e.status&&(0,t.jsxs)("span",{className:"relative flex h-2 w-2",children:[(0,t.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),(0,t.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-blue-500"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-700 mt-1.5 font-medium",children:e.customer_name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Clock,{className:"w-3 h-3"}),(a=new Date(e.created_at),(s=Math.floor((new Date().getTime()-a.getTime())/6e4))<1?"Just now":s<60?`${s}m ago`:s<1440?`${Math.floor(s/60)}h ago`:a.toLocaleDateString())]}),(0,t.jsxs)("span",{children:[e.items?.length||0," items"]})]})]}),(0,t.jsxs)("div",{className:"text-right shrink-0",children:[(0,t.jsxs)("p",{className:"font-bold text-gray-900 text-lg",children:["₹",Number(e.total_amount).toLocaleString("en-IN")]}),o&&"cancelled"!==e.status&&(0,t.jsx)(l.Button,{size:"sm",className:(0,C.cn)("mt-2 bg-gradient-to-r from-[#FF7F32] to-[#ea580c] hover:from-[#ea580c] hover:to-[#d95513] text-white rounded-lg text-xs h-8 px-3 shadow-md shadow-orange-100 touch-active",u&&"opacity-70"),onClick:t=>{t.stopPropagation(),R(e.id,o)},disabled:u,children:u?(0,t.jsx)(w,{className:"w-3 h-3 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[_[o]?.label,(0,t.jsx)(y.ArrowRight,{className:"w-3 h-3 ml-1"})]})})]})]})},e.id)})}),(0,t.jsx)(d.Dialog,{open:!!p,onOpenChange:()=>M(null),children:(0,t.jsx)(d.DialogContent,{className:"max-w-md rounded-2xl mx-4 max-h-[90vh] overflow-y-auto",children:p&&(0,t.jsxs)("div",{className:"animate-slide-up",children:[(0,t.jsxs)(d.DialogHeader,{className:"pb-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(d.DialogTitle,{className:"text-xl",children:["Order #",p.id.slice(0,8).toUpperCase()]}),(0,t.jsx)(n.Badge,{className:(0,C.cn)("rounded-full px-3 py-1",(_[p.status]||_.new).color.split(" ").slice(0,2).join(" ")),children:(_[p.status]||_.new).label})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:new Date(p.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:p.customer_name}),p.customer_phone&&(0,t.jsxs)("a",{href:`tel:${p.customer_phone}`,className:"text-sm text-gray-600 flex items-center gap-2 hover:text-[#FF7F32] transition-colors",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)(v.Phone,{className:"w-4 h-4 text-green-600"})}),p.customer_phone]}),p.customer_address&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 flex items-start gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0",children:(0,t.jsx)(j.MapPin,{className:"w-4 h-4 text-blue-600"})}),(0,t.jsx)("span",{className:"pt-1.5",children:p.customer_address})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Items"}),(0,t.jsxs)("div",{className:"space-y-2 bg-gray-50 rounded-xl p-4",children:[p.items?.map((e,a)=>(0,t.jsxs)("div",{className:"flex justify-between text-sm py-1",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:[(0,t.jsxs)("span",{className:"font-medium text-gray-900",children:[e.quantity,"x"]})," ",e.name]}),(0,t.jsxs)("span",{className:"font-semibold",children:["₹",(e.price*e.quantity).toLocaleString("en-IN")]})]},a)),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-3 mt-2 flex justify-between font-bold text-lg",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsxs)("span",{className:"text-[#FF7F32]",children:["₹",Number(p.total_amount).toLocaleString("en-IN")]})]})]})]}),p.notes&&(0,t.jsx)("div",{className:"bg-amber-50 border border-amber-100 rounded-xl p-4",children:(0,t.jsxs)("p",{className:"text-sm text-amber-800 flex items-start gap-2",children:[(0,t.jsx)(N.FileText,{className:"w-4 h-4 shrink-0 mt-0.5"}),(0,t.jsx)("span",{className:"font-medium",children:"Note:"})," ",p.notes]})}),"delivered"!==p.status&&"cancelled"!==p.status&&(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsxs)(l.Button,{variant:"outline",className:"flex-1 rounded-xl h-12 text-red-600 hover:bg-red-50 bg-white border-gray-200",onClick:()=>R(p.id,"cancelled"),disabled:A===p.id,children:[(0,t.jsx)(x.XCircle,{className:"w-4 h-4 mr-2"}),"Cancel"]}),B(p.status)&&(0,t.jsx)(l.Button,{className:"flex-1 bg-gradient-to-r from-[#FF7F32] to-[#ea580c] hover:from-[#ea580c] hover:to-[#d95513] text-white rounded-xl h-12 shadow-lg shadow-orange-100",onClick:()=>R(p.id,B(p.status)),disabled:A===p.id,children:A===p.id?(0,t.jsx)(w,{className:"w-4 h-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:["Mark ",_[B(p.status)]?.label,(0,t.jsx)(y.ArrowRight,{className:"w-4 h-4 ml-2"})]})})]})]})]})})})]})}var A=e.i(63808);function T(){let[e,l]=(0,a.useState)([]),[i,n]=(0,a.useState)(!0),d=(0,s.useRouter)();return((0,a.useEffect)(()=>{(async()=>{let e=(0,r.getToken)(),t=(0,r.getUser)();if(!e||!t)return d.push("/merchant/login");try{let e=(await r.api.orders.getMerchantOrders()||[]).map(e=>({id:e.id,merchant_id:e.merchantId,customer_name:e.customer?.fullName||e.customerName||e.userName||"Customer",customer_phone:e.customer?.phone||e.customerPhone||e.userPhone,customer_address:e.deliveryAddress||e.customer?.address||e.customerAddress,status:e.status?.toLowerCase()||"new",total_amount:e.grandTotal||e.totalAmount||e.total,items:e.items||e.orderItems?.map(e=>({name:e.productName||e.name,quantity:e.quantity,price:e.unitPrice||e.price}))||[],notes:e.deliveryInstructions||e.notes||e.specialInstructions,created_at:e.createdAt||e.orderDate,updated_at:e.updatedAt}));l(e)}catch(e){console.error("Failed to fetch orders:",e)}finally{n(!1)}})()},[d]),i)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsx)(A.Loader2,{className:"w-8 h-8 animate-spin text-[#FF7F32]"})}):(0,t.jsx)("div",{className:"pb-20 lg:pb-0",children:(0,t.jsx)(M,{orders:e})})}e.s(["default",()=>T],61973)}]);